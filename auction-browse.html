<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Browse Live Auctions ‚Äî Family Nest Auctions</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Jost:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --green-deep:   #3A7A5C;--green-mid:    #4E9470;--green-sage:   #7DB88A;--green-light:  #B8D4AE;--green-pale:   #EEF7EE;
  --honey:#C8A96E;--honey-light:#DFC28E;--honey-pale:#F5EDD8;
  --cream:#FAF7F2;--cream-mid:#F0EBE3;--cream-dark:#E2D9CE;
  --charcoal:#2C2C2C;--text-mid:#666;--text-light:#999;--white:#fff;
  --red:#B03030;--orange:#D4804A;
  --r-sm:8px;--r-md:14px;--r-lg:22px;
  --sh-xs:0 2px 8px rgba(44,44,44,.06);--sh-sm:0 4px 18px rgba(44,44,44,.09);
  --sh-md:0 8px 36px rgba(44,44,44,.13);--sh-lg:0 16px 56px rgba(44,44,44,.18);
}
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{font-family:'Jost',sans-serif;background:var(--cream);color:var(--charcoal);overflow-x:hidden}

/* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
header{position:fixed;top:0;left:0;right:0;z-index:800;background:var(--green-deep);box-shadow:0 2px 20px rgba(0,0,0,.2)}
.ribbon{background:var(--honey);padding:5px 36px;display:flex;justify-content:space-between;font-size:11.5px;font-weight:600;color:var(--green-deep)}
nav{display:flex;align-items:center;justify-content:space-between;padding:0 36px;height:70px}
.logo-wrap{display:flex;align-items:center;gap:11px;text-decoration:none}
.logo-mark{width:40px;height:40px}
.logo-name{font-family:'Cormorant Garamond',serif;font-size:18px;font-weight:700;color:var(--white)}
.logo-sub{font-size:9px;font-weight:700;letter-spacing:.18em;text-transform:uppercase;color:var(--honey)}
.nav-links{display:flex;gap:26px;list-style:none}
.nav-links a{font-size:13.5px;font-weight:500;color:rgba(255,255,255,.8);text-decoration:none;transition:color .2s}
.nav-links a:hover,.nav-links a.active{color:var(--honey)}
.nav-ctas{display:flex;gap:10px;align-items:center}
.btn-ghost{padding:8px 18px;border:1.5px solid rgba(255,255,255,.3);border-radius:var(--r-sm);color:var(--white);font-size:13px;font-weight:500;background:transparent;cursor:pointer;font-family:'Jost',sans-serif;transition:all .2s}
.btn-ghost:hover{border-color:var(--honey);color:var(--honey)}
.btn-honey{padding:9px 20px;background:var(--honey);border:none;border-radius:var(--r-sm);color:var(--green-deep);font-size:13px;font-weight:700;cursor:pointer;font-family:'Jost',sans-serif;transition:all .2s}
.btn-honey:hover{background:var(--honey-light);transform:translateY(-1px)}

/* ‚îÄ‚îÄ MOBILE NAV ‚îÄ‚îÄ */
.hamburger{display:none;flex-direction:column;gap:5px;cursor:pointer;padding:8px;background:transparent;border:none}
.hamburger span{display:block;width:24px;height:2px;background:var(--white);border-radius:2px;transition:all .3s}
.hamburger.open span:nth-child(1){transform:translateY(7px) rotate(45deg)}
.hamburger.open span:nth-child(2){opacity:0}
.hamburger.open span:nth-child(3){transform:translateY(-7px) rotate(-45deg)}
.mobile-menu{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:var(--green-deep);z-index:700;flex-direction:column;align-items:center;justify-content:center;gap:32px;opacity:0;pointer-events:none;transition:opacity .3s}
.mobile-menu.open{display:flex;opacity:1;pointer-events:all}
.mobile-menu a{font-family:'Cormorant Garamond',serif;font-size:32px;font-weight:700;color:var(--white);text-decoration:none;transition:color .2s}
.mobile-menu a:hover{color:var(--honey)}
.mobile-menu-ctas{display:flex;flex-direction:column;gap:12px;align-items:center;margin-top:8px}
.mobile-close{position:absolute;top:24px;right:24px;background:transparent;border:none;color:var(--white);font-size:28px;cursor:pointer}

/* ‚îÄ‚îÄ SEARCH HERO ‚îÄ‚îÄ */
.search-hero{background:var(--green-deep);margin-top:108px;padding:32px 36px}
.sh-top{display:flex;align-items:center;justify-content:space-between;gap:20px;flex-wrap:wrap;margin-bottom:20px}
.sh-title{font-family:'Cormorant Garamond',serif;font-size:clamp(22px,3vw,32px);font-weight:700;color:var(--white)}
.sh-count{font-size:14px;color:rgba(255,255,255,.65)}
.sh-count strong{color:var(--honey);font-size:16px}
.search-bar{display:flex;gap:0;width:100%;max-width:700px}
.sb-input{flex:1;border:none;outline:none;padding:14px 18px;font-size:15px;font-family:'Jost',sans-serif;border-radius:var(--r-sm) 0 0 var(--r-sm);background:rgba(255,255,255,.12);color:white;border:1.5px solid rgba(255,255,255,.2);border-right:none;transition:background .2s}
.sb-input::placeholder{color:rgba(255,255,255,.5)}
.sb-input:focus{background:rgba(255,255,255,.18);border-color:var(--honey)}
.sb-btn{padding:14px 26px;background:var(--honey);border:none;border-radius:0 var(--r-sm) var(--r-sm) 0;color:var(--green-deep);font-size:14px;font-weight:700;cursor:pointer;font-family:'Jost',sans-serif;transition:background .2s;white-space:nowrap}
.sb-btn:hover{background:var(--honey-light)}
.category-strip{display:flex;gap:8px;overflow-x:auto;padding-bottom:2px}
.category-strip::-webkit-scrollbar{display:none}
.cat-chip{flex-shrink:0;padding:7px 16px;border-radius:100px;font-size:13px;font-weight:600;cursor:pointer;border:1.5px solid rgba(255,255,255,.2);color:rgba(255,255,255,.75);background:transparent;font-family:'Jost',sans-serif;transition:all .2s;white-space:nowrap}
.cat-chip:hover{border-color:var(--honey);color:var(--honey)}
.cat-chip.on{background:var(--honey);border-color:var(--honey);color:var(--green-deep)}

/* ‚îÄ‚îÄ LAYOUT ‚îÄ‚îÄ */
.page-body{max-width:1300px;margin:0 auto;padding:28px 36px 80px;display:grid;grid-template-columns:280px 1fr;gap:28px;align-items:start}

/* ‚îÄ‚îÄ FILTER SIDEBAR ‚îÄ‚îÄ */
.filter-sidebar{position:sticky;top:100px;background:var(--white);border-radius:var(--r-lg);box-shadow:var(--sh-sm);overflow:hidden}
.fs-header{background:var(--green-deep);padding:16px 20px;display:flex;align-items:center;justify-content:space-between}
.fs-title{font-family:'Cormorant Garamond',serif;font-size:18px;font-weight:700;color:var(--white)}
.fs-clear{font-size:12px;font-weight:600;color:var(--honey);cursor:pointer;background:transparent;border:none;font-family:'Jost',sans-serif;transition:opacity .2s}
.fs-clear:hover{opacity:.75}
.filter-body{padding:0}
.filter-section{border-bottom:1px solid var(--cream-mid)}
.filter-section:last-child{border-bottom:none}
.fs-toggle{display:flex;align-items:center;justify-content:space-between;padding:14px 20px;cursor:pointer;user-select:none;background:transparent;border:none;width:100%;font-family:'Jost',sans-serif;transition:background .2s}
.fs-toggle:hover{background:var(--cream)}
.fs-label{font-size:13.5px;font-weight:700;color:var(--charcoal);display:flex;align-items:center;gap:7px}
.fs-icon{font-size:15px}
.fs-chevron{font-size:12px;color:var(--text-light);transition:transform .3s}
.fs-chevron.open{transform:rotate(180deg)}
.fs-content{padding:4px 20px 14px;display:none}
.fs-content.open{display:block}

/* checkboxes */
.fc-option{display:flex;align-items:center;gap:9px;padding:5px 0;cursor:pointer}
.fc-option input{display:none}
.fc-box{width:18px;height:18px;border:2px solid var(--cream-dark);border-radius:4px;flex-shrink:0;display:flex;align-items:center;justify-content:center;transition:all .2s;background:var(--white)}
.fc-option input:checked+.fc-box{background:var(--green-deep);border-color:var(--green-deep)}
.fc-option input:checked+.fc-box::after{content:'‚úì';color:white;font-size:11px;font-weight:700}
.fc-text{font-size:13px;color:var(--charcoal);flex:1}
.fc-count{font-size:11.5px;color:var(--text-light);background:var(--cream-mid);padding:1px 7px;border-radius:100px}

/* price range */
.price-range{display:flex;flex-direction:column;gap:10px}
.price-inputs{display:flex;gap:8px;align-items:center}
.pr-input{flex:1;border:1.5px solid var(--cream-dark);border-radius:var(--r-sm);padding:8px 10px;font-size:13px;font-family:'Jost',sans-serif;color:var(--charcoal);outline:none;transition:border-color .2s}
.pr-input:focus{border-color:var(--green-mid)}
.pr-sep{font-size:13px;color:var(--text-light)}
.btn-apply-price{width:100%;padding:9px;background:var(--green-deep);color:white;border:none;border-radius:var(--r-sm);font-size:13px;font-weight:700;font-family:'Jost',sans-serif;cursor:pointer;transition:background .2s}
.btn-apply-price:hover{background:var(--green-mid)}

/* condition dots */
.cond-option{display:flex;align-items:center;gap:8px;padding:5px 0;cursor:pointer}
.cond-option input{display:none}
.cond-dot{width:12px;height:12px;border-radius:50%;flex-shrink:0;border:2px solid}
.cond-option[data-c="excellent"] .cond-dot{background:#d4edda;border-color:#2a6040}
.cond-option[data-c="good"]      .cond-dot{background:#d1ecf1;border-color:#0c5460}
.cond-option[data-c="fair"]      .cond-dot{background:#fff3cd;border-color:#856404}
.cond-option[data-c="as-is"]     .cond-dot{background:#f8d7da;border-color:#842029}
.cond-option input:checked~.cond-text{font-weight:600;color:var(--green-deep)}
.cond-text{font-size:13px;color:var(--charcoal);flex:1}

/* slider */
.range-wrap{padding:4px 0}
input[type=range]{-webkit-appearance:none;width:100%;height:4px;border-radius:2px;background:var(--cream-dark);outline:none}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;border-radius:50%;background:var(--green-deep);cursor:pointer;border:2px solid white;box-shadow:0 1px 4px rgba(0,0,0,.2)}

/* filter count badge */
.filter-count{display:inline-flex;align-items:center;justify-content:center;min-width:18px;height:18px;padding:0 5px;background:var(--honey);color:var(--green-deep);font-size:10px;font-weight:700;border-radius:100px;margin-left:6px}

/* active filter pills */
.active-filters{display:flex;flex-wrap:wrap;gap:7px;padding:0 20px 14px}
.af-pill{display:inline-flex;align-items:center;gap:5px;background:var(--green-pale);color:var(--green-deep);font-size:12px;font-weight:600;padding:4px 10px;border-radius:100px;cursor:pointer;transition:all .2s;border:1px solid var(--green-light)}
.af-pill:hover{background:#d0e4d0}
.af-pill .af-x{font-size:14px;opacity:.6}

/* ‚îÄ‚îÄ RESULTS AREA ‚îÄ‚îÄ */
.results-area{}

/* toolbar */
.results-toolbar{display:flex;align-items:center;justify-content:space-between;gap:14px;margin-bottom:18px;flex-wrap:wrap}
.rt-left{display:flex;align-items:center;gap:12px}
.rt-count{font-size:14px;color:var(--text-mid)}
.rt-count strong{color:var(--charcoal)}
.sort-select{border:1.5px solid var(--cream-dark);border-radius:var(--r-sm);padding:8px 32px 8px 12px;font-size:13.5px;font-family:'Jost',sans-serif;color:var(--charcoal);outline:none;cursor:pointer;background:var(--white) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6'%3E%3Cpath d='M0 0l5 6 5-6z' fill='%23999'/%3E%3C/svg%3E") no-repeat right 10px center;-webkit-appearance:none;transition:border-color .2s}
.sort-select:focus{border-color:var(--green-mid)}
.view-toggle{display:flex;gap:0;border:1.5px solid var(--cream-dark);border-radius:var(--r-sm);overflow:hidden}
.vt-btn{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:var(--white);border:none;cursor:pointer;font-size:16px;transition:background .2s;color:var(--text-light)}
.vt-btn:hover{background:var(--cream)}
.vt-btn.on{background:var(--green-deep);color:white}
.vt-btn+.vt-btn{border-left:1.5px solid var(--cream-dark)}

/* mobile filter toggle */
.mobile-filter-btn{display:none;align-items:center;gap:7px;padding:9px 16px;background:var(--white);border:1.5px solid var(--cream-dark);border-radius:var(--r-sm);font-size:13.5px;font-weight:600;cursor:pointer;font-family:'Jost',sans-serif;transition:all .2s}
.mobile-filter-btn:hover{border-color:var(--green-mid);color:var(--green-mid)}

/* GRID VIEW */
.results-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:20px}
.results-grid.list-view{grid-template-columns:1fr}

/* Auction Cards */
.a-card{background:var(--white);border-radius:var(--r-lg);overflow:hidden;box-shadow:var(--sh-sm);transition:all .3s;cursor:pointer;display:block;text-decoration:none;animation:cardIn .4s ease both}
@keyframes cardIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}
.a-card:hover{transform:translateY(-5px);box-shadow:var(--sh-lg)}
.a-card.list-view{display:flex;align-items:stretch}
.a-card.list-view:hover{transform:none;box-shadow:var(--sh-md)}

.card-img{position:relative;height:180px;display:flex;align-items:center;justify-content:center;font-size:64px;flex-shrink:0;transition:background .3s}
.a-card.list-view .card-img{width:160px;height:auto;min-height:130px;font-size:52px}

.card-fav{position:absolute;top:10px;right:10px;background:rgba(255,255,255,.9);border:none;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:14px;transition:all .2s;backdrop-filter:blur(4px)}
.card-fav:hover{background:white;transform:scale(1.1)}

.card-cond{position:absolute;top:10px;left:10px;font-size:11px;font-weight:700;padding:3px 9px;border-radius:100px;backdrop-filter:blur(4px)}
.card-cond.excellent{background:#d4edda;color:#2a6040}
.card-cond.good{background:#d1ecf1;color:#0c5460}
.card-cond.fair{background:#fff3cd;color:#856404}
.card-cond.as-is{background:#f8d7da;color:#842029}

.card-body{padding:16px;flex:1;min-width:0}
.card-estate{font-size:11px;font-weight:700;letter-spacing:.07em;text-transform:uppercase;color:var(--green-mid);margin-bottom:4px}
.card-name{font-family:'Cormorant Garamond',serif;font-size:18px;font-weight:700;color:var(--charcoal);line-height:1.25;margin-bottom:8px}
.a-card.list-view .card-name{font-size:21px}

.card-transparency{background:var(--cream);border-radius:var(--r-sm);padding:10px 12px;margin-bottom:10px;border-left:3px solid var(--green-sage)}
.ct-row{display:flex;justify-content:space-between;font-size:12px;color:var(--text-mid);padding:1.5px 0}
.ct-total{display:flex;justify-content:space-between;font-size:12.5px;font-weight:700;color:var(--green-deep);border-top:1px solid var(--cream-dark);margin-top:5px;padding-top:5px}

.card-footer{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap}
.card-bid{font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:700;color:var(--charcoal)}
.card-time{font-size:12px;color:var(--text-mid)}
.card-time.urgent{color:var(--red);font-weight:600}
.card-bids-ct{font-size:11.5px;color:var(--text-light)}

.card-seller{display:flex;align-items:center;gap:5px;margin-top:8px;padding-top:8px;border-top:1px solid var(--cream-mid)}
.seller-stars{color:var(--honey);font-size:11px}
.seller-nm{font-size:12px;color:var(--text-mid)}

/* ‚îÄ‚îÄ NO RESULTS ‚îÄ‚îÄ */
.no-results{grid-column:1/-1;padding:60px 20px;text-align:center}
.nr-icon{font-size:56px;margin-bottom:16px}
.nr-title{font-family:'Cormorant Garamond',serif;font-size:26px;font-weight:700;color:var(--charcoal);margin-bottom:8px}
.nr-sub{font-size:14.5px;color:var(--text-mid);margin-bottom:22px}
.btn-clear-all{padding:11px 26px;background:var(--green-deep);color:white;border:none;border-radius:var(--r-sm);font-size:14px;font-weight:700;font-family:'Jost',sans-serif;cursor:pointer;transition:all .2s}
.btn-clear-all:hover{background:var(--green-mid)}

/* ‚îÄ‚îÄ PAGINATION ‚îÄ‚îÄ */
.pagination{display:flex;justify-content:center;align-items:center;gap:8px;margin-top:36px;flex-wrap:wrap}
.pg-btn{min-width:38px;height:38px;padding:0 10px;display:flex;align-items:center;justify-content:center;border-radius:var(--r-sm);font-size:14px;font-weight:600;cursor:pointer;border:1.5px solid var(--cream-dark);background:var(--white);color:var(--charcoal);font-family:'Jost',sans-serif;transition:all .2s}
.pg-btn:hover{border-color:var(--green-mid);color:var(--green-mid)}
.pg-btn.on{background:var(--green-deep);border-color:var(--green-deep);color:white}
.pg-btn.disabled{opacity:.4;cursor:default;pointer-events:none}
.pg-ellipsis{font-size:14px;color:var(--text-light);padding:0 4px}

/* ‚îÄ‚îÄ MOBILE FILTER DRAWER ‚îÄ‚îÄ */
.filter-drawer{position:fixed;left:0;top:0;bottom:0;width:300px;background:var(--white);z-index:900;box-shadow:var(--sh-lg);transform:translateX(-100%);transition:transform .35s;overflow-y:auto}
.filter-drawer.open{transform:none}
.fd-header{background:var(--green-deep);padding:16px 20px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:1}
.fd-title{font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:700;color:var(--white)}
.fd-close{background:transparent;border:none;color:var(--white);font-size:22px;cursor:pointer;line-height:1}
.drawer-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:899;opacity:0;pointer-events:none;transition:opacity .35s}
.drawer-backdrop.open{opacity:1;pointer-events:all}

/* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
.toast{position:fixed;bottom:22px;right:22px;background:var(--charcoal);color:white;padding:14px 20px;border-radius:var(--r-md);font-size:13.5px;max-width:290px;box-shadow:var(--sh-lg);border-left:4px solid var(--honey);transform:translateX(140%);transition:transform .3s;z-index:9999}
.toast.on{transform:none}
.toast strong{color:var(--honey);display:block;margin-bottom:3px}

/* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
@media(max-width:960px){
  .ribbon{display:none}
  .search-hero{margin-top:70px;padding:18px 16px 14px}
  .nav-links,.nav-ctas{display:none}
  .hamburger{display:flex}
  .page-body{grid-template-columns:1fr;padding:16px 16px 60px;gap:16px}
  .filter-sidebar{display:none}
  .mobile-filter-btn{display:flex}
  .results-grid{grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px}
  .sh-top{flex-direction:column;align-items:flex-start;gap:8px;margin-bottom:12px}
  .sh-title{font-size:20px}
  .search-bar{flex-direction:row}
  .sb-input{font-size:14px;padding:12px 14px}
  .sb-btn{padding:12px 16px;font-size:13px}
  .results-toolbar{flex-direction:column;align-items:flex-start;gap:10px}
  .rt-left{width:100%;justify-content:space-between}
  .sort-select{font-size:13px}
  .card-transparency{display:none}
  .card-img{height:160px;font-size:52px}
  .card-name{font-size:16px}
}
@media(max-width:500px){
  .results-grid{grid-template-columns:1fr}
  .a-card.list-view{flex-direction:column}
  .a-card.list-view .card-img{width:100%;height:150px}
  .card-footer{gap:6px}
  .category-strip{gap:6px}
  .cat-chip{font-size:12px;padding:6px 12px}
  .pagination{gap:5px}
  .pg-btn{min-width:34px;height:34px;font-size:13px}
}
</style>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
  <script src="js/api.js"></script>
</head>
<body>

<!-- HEADER -->
<header>
  <div class="ribbon">
    <span>üìû (678) 658-3083 &nbsp;¬∑&nbsp; <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c7aea9a1a887a1a6aaaeabbea9a2b4b3a6b2a4b3aea8a9b4e9a4a8aa">[email&#160;protected]</a></span>
    <span>‚≠ê 5-Star Rated &nbsp;¬∑&nbsp; Transparent Pricing &nbsp;¬∑&nbsp; Trusted Nationwide</span>
  </div>
  <nav>
    <a href="family-nest-auctions.html" class="logo-wrap">
      <svg class="logo-mark" viewBox="0 0 40 40" fill="none">
        <rect width="40" height="40" rx="8" fill="#C8A96E"/>
        <path d="M20 6L5 17.5V34h10V25h10v9h10V17.5L20 6z" fill="#3A7A5C"/>
        <ellipse cx="20" cy="28.5" rx="5" ry="2.2" fill="#7DB88A" opacity=".75"/>
        <path d="M16 28.5 Q20 25.5 24 28.5" stroke="#B8D4AE" stroke-width="1.1" fill="none" opacity=".8"/>
      </svg>
      <div>
        <div class="logo-name">Family Nest Auctions</div>
        <div class="logo-sub">Estate Sale Bidding Platform</div>
      </div>
    </a>
    <ul class="nav-links">
      <li><a href="#" class="active">Live Auctions</a></li>
      <li><a href="family-nest-auctions.html#how">How It Works</a></li>
      <li><a href="family-nest-auctions.html#why">Why Us</a></li>
      <li><a href="seller-dashboard.html">Sell With Us</a></li>
    </ul>
    <div class="nav-ctas">
      <button class="btn-ghost" onclick="window.location.href='family-nest-auctions.html?login=1'">Sign In</button>
      <button class="btn-honey" onclick="window.location.href='family-nest-auctions.html?register=1'">Start Bidding Free</button>
    </div>
    <button class="hamburger" id="hamburger" onclick="toggleMenu()"><span></span><span></span><span></span></button>
  </nav>
</header>

<!-- MOBILE MENU -->
<div class="mobile-menu" id="mobile-menu">
  <button class="mobile-close" onclick="toggleMenu()">‚úï</button>
  <a href="family-nest-auctions.html" onclick="toggleMenu()">Home</a>
  <a href="#" onclick="toggleMenu()">Live Auctions</a>
  <a href="family-nest-auctions.html#how" onclick="toggleMenu()">How It Works</a>
  <a href="#" onclick="toggleMenu()">Sell With Us</a>
  <div class="mobile-menu-ctas">
    <button class="btn-ghost" style="font-size:16px;padding:12px 32px" onclick="toggleMenu()">Sign In</button>
    <button class="btn-honey" style="font-size:16px;padding:12px 32px" onclick="toggleMenu()">Start Bidding Free</button>
  </div>
</div>

<!-- SEARCH HERO -->
<div class="search-hero">
  <div class="sh-top">
    <div>
      <div class="sh-title">Browse Live Auctions</div>
      <div class="sh-count"><strong id="result-count">247</strong> items across 18 active estate sales</div>
    </div>
  </div>
  <div class="search-bar" style="margin-bottom:16px">
    <input class="sb-input" type="text" id="search-input" placeholder="Search by keyword, category, or estate name‚Ä¶" oninput="handleSearch(this.value)">
    <button class="sb-btn" onclick="FNA.loadBrowseItems({search:document.getElementById('search-input').value,category:window._activeCat||'All'})">üîç Search</button>
  </div>
  <div class="category-strip" id="cat-strip">
    <button class="cat-chip on" onclick="setCat(this,'All');FNA.loadBrowseItems({category:'All'})">All Items</button>
    <button class="cat-chip" onclick="setCat(this,'Furniture');FNA.loadBrowseItems({category:'Furniture'})">ü™ë Furniture</button>
    <button class="cat-chip" onclick="setCat(this,'Art');FNA.loadBrowseItems({category:'Art'})">üñºÔ∏è Art &amp; D√©cor</button>
    <button class="cat-chip" onclick="setCat(this,'Jewelry');FNA.loadBrowseItems({category:'Jewelry'})">üíç Jewelry</button>
    <button class="cat-chip" onclick="setCat(this,'Lighting')">ü™î Lighting</button>
    <button class="cat-chip" onclick="setCat(this,'Rugs')">üè∫ Rugs &amp; Textiles</button>
    <button class="cat-chip" onclick="setCat(this,'Collectibles')">üß∏ Collectibles</button>
    <button class="cat-chip" onclick="setCat(this,'Silver')">ü•Ñ Silver &amp; China</button>
    <button class="cat-chip" onclick="setCat(this,'Books')">üìö Books &amp; Ephemera</button>
    <button class="cat-chip" onclick="setCat(this,'Garden')">üåø Garden &amp; Outdoor</button>
  </div>
</div>

<!-- MOBILE FILTER DRAWER BACKDROP -->
<div class="drawer-backdrop" id="backdrop" onclick="closeDrawer()"></div>

<!-- MOBILE FILTER DRAWER -->
<div class="filter-drawer" id="filter-drawer">
  <div class="fd-header">
    <div class="fd-title">Filters</div>
    <button class="fd-close" onclick="closeDrawer()">‚úï</button>
  </div>
  <div id="drawer-filter-body"></div>
</div>

<!-- PAGE BODY -->
<div class="page-body">

  <!-- SIDEBAR FILTERS (desktop) -->
  <div class="filter-sidebar" id="desktop-sidebar">
    <div class="fs-header">
      <div class="fs-title">Filters <span class="filter-count" id="filter-badge" style="display:none">0</span></div>
      <button class="fs-clear" onclick="clearAllFilters()">Clear All</button>
    </div>
    <div class="filter-body" id="filter-body-desktop">
      <!-- injected by JS -->
    </div>
  </div>

  <!-- RESULTS -->
  <div class="results-area">

    <!-- Toolbar -->
    <div class="results-toolbar">
      <div class="rt-left">
        <button class="mobile-filter-btn" onclick="openDrawer()">
          üéõÔ∏è Filters <span class="filter-count" id="filter-badge-mob" style="display:none">0</span>
        </button>
        <div class="rt-count"><strong id="showing-count">247</strong> results</div>
      </div>
      <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap">
        <div id="active-pills" style="display:flex;flex-wrap:wrap;gap:6px"></div>
        <select class="sort-select" id="sort-select" onchange="sortAndRender()">
          <option value="ending">Ending Soon</option>
          <option value="new">Newly Listed</option>
          <option value="price-asc">Price: Low to High</option>
          <option value="price-desc">Price: High to Low</option>
          <option value="bids">Most Bids</option>
        </select>
        <div class="view-toggle">
          <button class="vt-btn on" id="vt-grid" onclick="setView('grid')" title="Grid view">‚äû</button>
          <button class="vt-btn" id="vt-list" onclick="setView('list')" title="List view">‚â°</button>
        </div>
      </div>
    </div>

    <!-- Grid -->
    <div class="results-grid" id="results-grid" id="results-grid"></div>

    <!-- Pagination -->
    <div class="pagination" id="pagination"></div>

  </div>
</div>

<!-- TOAST -->
<div class="toast" id="the-toast"><strong id="t-ttl"></strong><span id="t-msg"></span></div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// ‚îÄ‚îÄ SAFE HELPERS ‚îÄ‚îÄ
function el(id){return document.getElementById(id)}
function setText(id,val){const e=el(id);if(e)e.textContent=val}

function toast(msg,title){
  const t=el('the-toast');if(!t)return;
  setText('t-ttl',title||'');setText('t-msg',msg);
  t.classList.add('on');setTimeout(()=>t.classList.remove('on'),3400);
}

// ‚îÄ‚îÄ DATA ‚îÄ‚îÄ
const ALL_ITEMS = [
  {id:1,  name:'Victorian Carved Mahogany Armchair',cat:'Furniture', estate:'Henderson Estate ¬∑ Atlanta, GA', bid:187, prem:28, ship:65, bids:18, ends:6300,  cond:'excellent', icon:'ü™ë', bg:'#f0ebe3', seller:'Henderson Estate Sales', stars:4.9, new:false},
  {id:2,  name:'Antique Tiffany-Style Table Lamp',  cat:'Lighting',  estate:'Henderson Estate ¬∑ Atlanta, GA', bid:340, prem:51, ship:45, bids:24, ends:14400, cond:'excellent', icon:'ü™î', bg:'#f8f0e0', seller:'Henderson Estate Sales', stars:4.9, new:false},
  {id:3,  name:'Hand-Knotted Persian Wool Rug, 8√ó10', cat:'Rugs',   estate:'Henderson Estate ¬∑ Atlanta, GA', bid:215, prem:32, ship:120,bids:9,  ends:86400, cond:'good',      icon:'üè∫', bg:'#f0e8f4', seller:'Henderson Estate Sales', stars:4.9, new:true},
  {id:4,  name:'Victorian Mahogany Writing Desk',   cat:'Furniture', estate:'Henderson Estate ¬∑ Atlanta, GA', bid:520, prem:78, ship:180,bids:31, ends:7200,  cond:'excellent', icon:'üñäÔ∏è', bg:'#EEF7EE', seller:'Henderson Estate Sales', stars:4.9, new:false},
  {id:5,  name:'Gilded Victorian Wall Mirror, 36"', cat:'Art',       estate:'Henderson Estate ¬∑ Atlanta, GA', bid:890, prem:134,ship:95, bids:42, ends:259200,cond:'good',      icon:'ü™û', bg:'#f8f4e8', seller:'Henderson Estate Sales', stars:4.9, new:true},
  {id:6,  name:'Art Deco Diamond Brooch, 1920s',    cat:'Jewelry',   estate:'Morrison Collection ¬∑ Savannah',  bid:1250,prem:188,ship:18, bids:55, ends:3600,  cond:'excellent', icon:'üíé', bg:'#f0e8f8', seller:'Morrison Collection',     stars:5.0, new:false},
  {id:7,  name:'Sterling Silver Tea Service Set',   cat:'Silver',    estate:'Morrison Collection ¬∑ Savannah',  bid:445, prem:67, ship:42, bids:22, ends:18000, cond:'good',      icon:'ü´ñ', bg:'#e8f4f4', seller:'Morrison Collection',     stars:5.0, new:false},
  {id:8,  name:'Signed Impressionist Oil Painting', cat:'Art',       estate:'Whitfield Gallery ¬∑ Charleston',  bid:2800,prem:420,ship:110,bids:68, ends:10800, cond:'excellent', icon:'üñºÔ∏è', bg:'#faf0e8', seller:'Whitfield Gallery',       stars:4.8, new:false},
  {id:9,  name:'Vintage Rolex Oyster Perpetual',    cat:'Jewelry',   estate:'Whitfield Gallery ¬∑ Charleston',  bid:4200,prem:630,ship:22, bids:89, ends:5400,  cond:'good',      icon:'‚åö', bg:'#f4f0e0', seller:'Whitfield Gallery',       stars:4.8, new:true},
  {id:10, name:'Chippendale Highboy Chest of Drawers',cat:'Furniture',estate:'Baxter Estate ¬∑ Nashville',      bid:680, prem:102,ship:240,bids:16, ends:43200, cond:'fair',      icon:'üóÑÔ∏è', bg:'#f0ece0', seller:'Baxter Estate',           stars:4.7, new:false},
  {id:11, name:'Set of 12 Wedgwood Dinner Plates',  cat:'Silver',    estate:'Baxter Estate ¬∑ Nashville',      bid:120, prem:18, ship:55, bids:7,  ends:28800, cond:'excellent', icon:'üçΩÔ∏è', bg:'#e8ecf4', seller:'Baxter Estate',           stars:4.7, new:true},
  {id:12, name:'Edwardian Silk Velvet Settee',       cat:'Furniture', estate:'Carmichael Lot ¬∑ Richmond, VA',  bid:290, prem:44, ship:160,bids:12, ends:72000, cond:'fair',      icon:'üõãÔ∏è', bg:'#f4e8ec', seller:'Carmichael Estate',       stars:4.6, new:false},
  {id:13, name:'19th C. Botanical Print Collection', cat:'Art',       estate:'Carmichael Lot ¬∑ Richmond, VA',  bid:85,  prem:13, ship:28, bids:5,  ends:50400, cond:'good',      icon:'üåø', bg:'#e8f4e8', seller:'Carmichael Estate',       stars:4.6, new:false},
  {id:14, name:'Bavarian Cuckoo Clock, Black Forest', cat:'Collectibles',estate:'Larson Collection ¬∑ Denver', bid:155, prem:23, ship:48, bids:14, ends:21600, cond:'excellent', icon:'üï∞Ô∏è', bg:'#f0ece8', seller:'Larson Collection',       stars:4.9, new:true},
  {id:15, name:'First Edition Hemingway ‚Äì The Sun Also Rises',cat:'Books',estate:'Larson Collection ¬∑ Denver', bid:880, prem:132,ship:20, bids:38, ends:32400, cond:'good',      icon:'üìö', bg:'#f8f4e0', seller:'Larson Collection',       stars:4.9, new:false},
  {id:16, name:'Chinese Export Porcelain Vase, 18th C.',cat:'Collectibles',estate:'Parker Estate ¬∑ Boston',   bid:1100,prem:165,ship:60, bids:27, ends:9000,  cond:'excellent', icon:'üè∫', bg:'#f0e8f0', seller:'Parker Estate',           stars:4.8, new:false},
  {id:17, name:'Cast Iron Garden Bench, Victorian',  cat:'Garden',    estate:'Parker Estate ¬∑ Boston',        bid:175, prem:26, ship:210,bids:8,  ends:115200,cond:'fair',      icon:'üåø', bg:'#e8f0e0', seller:'Parker Estate',           stars:4.8, new:true},
  {id:18, name:'Navajo Hand-Woven Blanket, c.1920',  cat:'Rugs',      estate:'Thornton Estate ¬∑ Albuquerque', bid:620, prem:93, ship:55, bids:33, ends:16200, cond:'good',      icon:'üß∂', bg:'#f8ece0', seller:'Thornton Estate',         stars:5.0, new:false},
];

// ‚îÄ‚îÄ STATE ‚îÄ‚îÄ
const state = {
  query: '',
  cat: 'All',
  sort: 'ending',
  view: 'grid',
  page: 1,
  perPage: 12,
  filters: {
    condition: new Set(),
    minPrice: '',
    maxPrice: '',
    endingSoon: false,
    newListings: false,
    minRating: '',
  }
};

let favorites = new Set();

// ‚îÄ‚îÄ FILTER PANEL BUILDER ‚îÄ‚îÄ
function filterPanelHTML(){
  return `
  <div id="active-filters-sidebar" class="active-filters" style="padding-top:12px"></div>
  
  <div class="filter-section">
    <button class="fs-toggle" onclick="toggleSection(this)">
      <span class="fs-label"><span class="fs-icon">‚è±Ô∏è</span>Auction Status</span>
      <span class="fs-chevron open">‚ñº</span>
    </button>
    <div class="fs-content open">
      <label class="fc-option"><input type="checkbox" id="f-ending" onchange="filterChange()" ${state.filters.endingSoon?'checked':''}><div class="fc-box"></div><span class="fc-text">Ending Soon (under 2h)</span></label>
      <label class="fc-option"><input type="checkbox" id="f-new" onchange="filterChange()" ${state.filters.newListings?'checked':''}><div class="fc-box"></div><span class="fc-text">New Listings</span><span class="fc-count">7</span></label>
    </div>
  </div>

  <div class="filter-section">
    <button class="fs-toggle" onclick="toggleSection(this)">
      <span class="fs-label"><span class="fs-icon">üí∞</span>Price Range</span>
      <span class="fs-chevron open">‚ñº</span>
    </button>
    <div class="fs-content open">
      <div class="price-range">
        <div class="price-inputs">
          <input class="pr-input" type="number" placeholder="Min $" id="f-min" value="${state.filters.minPrice}" oninput="state.filters.minPrice=this.value">
          <span class="pr-sep">‚Äî</span>
          <input class="pr-input" type="number" placeholder="Max $" id="f-max" value="${state.filters.maxPrice}" oninput="state.filters.maxPrice=this.value">
        </div>
        <button class="btn-apply-price" onclick="filterChange()">Apply Price Filter</button>
      </div>
    </div>
  </div>

  <div class="filter-section">
    <button class="fs-toggle" onclick="toggleSection(this)">
      <span class="fs-label"><span class="fs-icon">üîé</span>Condition</span>
      <span class="fs-chevron open">‚ñº</span>
    </button>
    <div class="fs-content open">
      ${['excellent','good','fair','as-is'].map(c=>`
      <label class="cond-option" data-c="${c}">
        <input type="checkbox" id="f-cond-${c}" onchange="filterChange()" ${state.filters.condition.has(c)?'checked':''}>
        <div class="cond-dot"></div>
        <span class="cond-text">${c[0].toUpperCase()+c.slice(1)}</span>
      </label>`).join('')}
    </div>
  </div>

  <div class="filter-section">
    <button class="fs-toggle" onclick="toggleSection(this)">
      <span class="fs-label"><span class="fs-icon">‚≠ê</span>Seller Rating</span>
      <span class="fs-chevron open">‚ñº</span>
    </button>
    <div class="fs-content open">
      ${['5.0','4.8','4.5','Any'].map(r=>`
      <label class="fc-option">
        <input type="radio" name="f-rating" id="f-r-${r}" onchange="state.filters.minRating='${r==='Any'?'':r}';filterChange()" ${(r==='Any'&&!state.filters.minRating)||(state.filters.minRating===r)?'checked':''} style="display:none">
        <div class="fc-box"></div>
        <span class="fc-text">${r==='Any'?'Any Rating':'‚òÖ '+r+' & up'}</span>
      </label>`).join('')}
    </div>
  </div>

  <div class="filter-section">
    <button class="fs-toggle" onclick="toggleSection(this)">
      <span class="fs-label"><span class="fs-icon">üì¶</span>Shipping</span>
      <span class="fs-chevron">‚ñº</span>
    </button>
    <div class="fs-content">
      <label class="fc-option"><input type="checkbox" onchange="filterChange()"><div class="fc-box"></div><span class="fc-text">Ships Nationwide</span></label>
      <label class="fc-option"><input type="checkbox" onchange="filterChange()"><div class="fc-box"></div><span class="fc-text">Local Pickup Available</span></label>
      <label class="fc-option"><input type="checkbox" onchange="filterChange()"><div class="fc-box"></div><span class="fc-text">Free Shipping</span></label>
    </div>
  </div>`;
}

function buildFilterPanels(){
  const html = filterPanelHTML();
  const d=el('filter-body-desktop'); if(d) d.innerHTML=html;
  const dw=el('drawer-filter-body'); if(dw) dw.innerHTML=html;
}

function toggleSection(btn){
  const content = btn.nextElementSibling;
  const chevron = btn.querySelector('.fs-chevron');
  content.classList.toggle('open');
  chevron.classList.toggle('open');
}

// ‚îÄ‚îÄ FILTERING LOGIC ‚îÄ‚îÄ
function getFiltered(){
  return ALL_ITEMS.filter(item=>{
    if(state.cat !== 'All' && item.cat !== state.cat) return false;
    if(state.query){
      const q=state.query.toLowerCase();
      if(!item.name.toLowerCase().includes(q) && !item.estate.toLowerCase().includes(q) && !item.cat.toLowerCase().includes(q)) return false;
    }
    if(state.filters.condition.size>0 && !state.filters.condition.has(item.cond)) return false;
    if(state.filters.minPrice && item.bid < parseFloat(state.filters.minPrice)) return false;
    if(state.filters.maxPrice && item.bid > parseFloat(state.filters.maxPrice)) return false;
    if(state.filters.endingSoon && item.ends > 7200) return false;
    if(state.filters.newListings && !item.new) return false;
    if(state.filters.minRating && item.stars < parseFloat(state.filters.minRating)) return false;
    return true;
  });
}

function getSorted(items){
  const s = state.sort;
  return [...items].sort((a,b)=>{
    if(s==='ending')    return a.ends - b.ends;
    if(s==='new')       return (b.new?1:0)-(a.new?1:0);
    if(s==='price-asc') return a.bid - b.bid;
    if(s==='price-desc')return b.bid - a.bid;
    if(s==='bids')      return b.bids - a.bids;
    return 0;
  });
}

// ‚îÄ‚îÄ CARD RENDERING ‚îÄ‚îÄ
function fmtTime(secs){
  if(secs<3600)   return {text: Math.floor(secs/60)+'m left', urgent:true};
  if(secs<86400)  return {text: Math.floor(secs/3600)+'h left', urgent:secs<7200};
  return {text: Math.floor(secs/86400)+'d left', urgent:false};
}

function cardHTML(item, isListView){
  const t = fmtTime(item.ends);
  const total = item.bid + item.prem + item.ship;
  const isFav = favorites.has(item.id);
  return `
  <a class="a-card${isListView?' list-view':''}" href="auction-item-detail.html">
    <div class="card-img" style="background:linear-gradient(135deg,${item.bg},${item.bg}cc)">
      <span style="font-size:${isListView?'48px':'64px'}">${item.icon}</span>
      <button class="card-fav" onclick="event.stopPropagation();event.preventDefault();toggleFav(${item.id},this)">${isFav?'‚ù§Ô∏è':'ü§ç'}</button>
      <span class="card-cond ${item.cond}">${item.cond[0].toUpperCase()+item.cond.slice(1)}</span>
      ${item.new?'<span style="position:absolute;bottom:10px;left:10px;background:var(--honey);color:var(--green-deep);font-size:10px;font-weight:700;padding:3px 9px;border-radius:100px">NEW</span>':''}
    </div>
    <div class="card-body">
      <div class="card-estate">${item.estate}</div>
      <div class="card-name">${item.name}</div>
      <div class="card-transparency">
        <div class="ct-row"><span>Current bid</span><span>$${item.bid}</span></div>
        <div class="ct-row"><span>Buyer's premium (15%)</span><span>$${item.prem}</span></div>
        <div class="ct-row"><span>Est. shipping</span><span>~$${item.ship}</span></div>
        <div class="ct-total"><span>Est. total</span><span>~$${total}</span></div>
      </div>
      <div class="card-footer">
        <div>
          <div class="card-bid">$${item.bid}</div>
          <div class="card-bids-ct">${item.bids} bids</div>
        </div>
        <div class="card-time${t.urgent?' urgent':''}">${t.text}</div>
      </div>
      <div class="card-seller">
        <span class="seller-stars">${'‚òÖ'.repeat(Math.floor(item.stars))}${item.stars%1?'¬Ω':''}</span>
        <span class="seller-nm">${item.seller}</span>
      </div>
    </div>
  </a>`;
}

function renderResults(){
  const filtered  = getFiltered();
  const sorted    = getSorted(filtered);
  const isListView = state.view === 'list';
  const grid = el('results-grid');
  if(!grid) return;

  // page slice
  const start = (state.page-1)*state.perPage;
  const pageItems = sorted.slice(start, start+state.perPage);

  // update list class
  grid.classList.toggle('list-view', isListView);

  if(sorted.length===0){
    grid.innerHTML=`<div class="no-results">
      <div class="nr-icon">üîç</div>
      <div class="nr-title">No items found</div>
      <div class="nr-sub">Try adjusting your filters or search query.</div>
      <button class="btn-clear-all" onclick="clearAllFilters()">Clear All Filters</button>
    </div>`;
  } else {
    grid.innerHTML = pageItems.map(item=>cardHTML(item, isListView)).join('');
    // stagger animations
    grid.querySelectorAll('.a-card').forEach((c,i)=>{ c.style.animationDelay=(i*40)+'ms'; });
  }

  // counts
  setText('showing-count', sorted.length);
  setText('result-count', sorted.length);
  renderPagination(sorted.length);
  updateFilterBadge();
  renderActivePills();
}

// ‚îÄ‚îÄ PAGINATION ‚îÄ‚îÄ
function renderPagination(total){
  const pages = Math.ceil(total/state.perPage);
  const pg = el('pagination');
  if(!pg||pages<=1){if(pg)pg.innerHTML='';return;}
  let html='';
  html+=`<button class="pg-btn${state.page===1?' disabled':''}" onclick="setPage(${state.page-1})">‚Äπ Prev</button>`;
  for(let i=1;i<=pages;i++){
    if(i===1||i===pages||Math.abs(i-state.page)<=1){
      html+=`<button class="pg-btn${state.page===i?' on':''}" onclick="setPage(${i})">${i}</button>`;
    } else if(Math.abs(i-state.page)===2){
      html+=`<span class="pg-ellipsis">‚Ä¶</span>`;
    }
  }
  html+=`<button class="pg-btn${state.page===pages?' disabled':''}" onclick="setPage(${state.page+1})">Next ‚Ä∫</button>`;
  pg.innerHTML=html;
}
function setPage(p){
  state.page=p;
  renderResults();
  window.scrollTo({top:0,behavior:'smooth'});
}

// ‚îÄ‚îÄ FILTER BADGE ‚îÄ‚îÄ
function countActiveFilters(){
  let n=0;
  if(state.filters.condition.size>0) n+=state.filters.condition.size;
  if(state.filters.minPrice||state.filters.maxPrice) n++;
  if(state.filters.endingSoon) n++;
  if(state.filters.newListings) n++;
  if(state.filters.minRating) n++;
  if(state.cat!=='All') n++;
  if(state.query) n++;
  return n;
}
function updateFilterBadge(){
  const n = countActiveFilters();
  ['filter-badge','filter-badge-mob'].forEach(id=>{
    const b=el(id); if(!b)return;
    b.textContent=n; b.style.display=n>0?'inline-flex':'none';
  });
}

// ‚îÄ‚îÄ ACTIVE PILLS ‚îÄ‚îÄ
function renderActivePills(){
  const pills=[];
  if(state.query)       pills.push({label:'Search: '+state.query, clear:()=>{state.query='';const i=el('search-input');if(i)i.value='';filterChange();}});
  if(state.cat!=='All') pills.push({label:'Category: '+state.cat, clear:()=>setCatByName('All')});
  state.filters.condition.forEach(c=>pills.push({label:'Cond: '+c, clear:()=>{state.filters.condition.delete(c);buildFilterPanels();filterChange();}}));
  if(state.filters.minPrice||state.filters.maxPrice) pills.push({label:'Price: $'+(state.filters.minPrice||'0')+' ‚Äì $'+(state.filters.maxPrice||'‚àû'), clear:()=>{state.filters.minPrice='';state.filters.maxPrice='';buildFilterPanels();filterChange();}});
  if(state.filters.endingSoon) pills.push({label:'Ending Soon', clear:()=>{state.filters.endingSoon=false;buildFilterPanels();filterChange();}});
  if(state.filters.newListings) pills.push({label:'New Listings', clear:()=>{state.filters.newListings=false;buildFilterPanels();filterChange();}});
  if(state.filters.minRating)  pills.push({label:'Rating ‚òÖ'+state.filters.minRating+'+', clear:()=>{state.filters.minRating='';buildFilterPanels();filterChange();}});

  const container = el('active-pills');
  if(!container) return;
  container.innerHTML = pills.map((_,i)=>`<span class="af-pill" onclick="pills[${i}].clear()">√ó ${pills[i].label} <span class="af-x"></span></span>`).join('');
  // re-attach
  container.querySelectorAll('.af-pill').forEach((pill,i)=>{
    pill.addEventListener('click',()=>{ pills[i].clear(); });
    pill.innerHTML = `√ó ${pills[i].label}`;
  });
}

// ‚îÄ‚îÄ CONTROL HANDLERS ‚îÄ‚îÄ
function handleSearch(val){
  state.query=val;state.page=1;renderResults();
}
function setCat(btn, cat){
  state.cat=cat; state.page=1;
  document.querySelectorAll('.cat-chip').forEach(c=>c.classList.remove('on'));
  btn.classList.add('on');
  renderResults();
}
function setCatByName(cat){
  state.cat=cat; state.page=1;
  document.querySelectorAll('.cat-chip').forEach(c=>c.classList.toggle('on', c.textContent.trim().replace(/^[^\w]+/,'').startsWith(cat)||cat==='All'&&c.textContent.includes('All')));
  renderResults();
}
function filterChange(){
  // read all filter states
  const endEl=el('f-ending');   if(endEl) state.filters.endingSoon=endEl.checked;
  const newEl=el('f-new');      if(newEl) state.filters.newListings=newEl.checked;
  const minEl=el('f-min');      if(minEl) state.filters.minPrice=minEl.value;
  const maxEl=el('f-max');      if(maxEl) state.filters.maxPrice=maxEl.value;
  state.filters.condition.clear();
  ['excellent','good','fair','as-is'].forEach(c=>{ const e=el('f-cond-'+c); if(e&&e.checked) state.filters.condition.add(c); });
  ['5.0','4.8','4.5'].forEach(r=>{ const e=el('f-r-'+r); if(e&&e.checked) state.filters.minRating=r; });
  const anyEl=el('f-r-Any'); if(anyEl&&anyEl.checked) state.filters.minRating='';
  state.page=1;
  renderResults();
}
function clearAllFilters(){
  state.query=''; state.cat='All'; state.filters={condition:new Set(),minPrice:'',maxPrice:'',endingSoon:false,newListings:false,minRating:''};
  const si=el('search-input'); if(si) si.value='';
  document.querySelectorAll('.cat-chip').forEach((c,i)=>c.classList.toggle('on',i===0));
  buildFilterPanels();
  state.page=1;
  renderResults();
  toast('All filters cleared','üßπ Cleared');
}
function sortAndRender(){
  const ss=el('sort-select'); if(ss) state.sort=ss.value;
  state.page=1; renderResults();
}
function setView(v){
  state.view=v;
  el('vt-grid').classList.toggle('on',v==='grid');
  el('vt-list').classList.toggle('on',v==='list');
  renderResults();
}

// ‚îÄ‚îÄ FAVORITES ‚îÄ‚îÄ
function toggleFav(id,btn){
  if(favorites.has(id)){favorites.delete(id);btn.textContent='ü§ç';toast('Removed from watchlist','Removed');}
  else{favorites.add(id);btn.textContent='‚ù§Ô∏è';toast('Added to watchlist!','‚ù§Ô∏è Saved');}
}

// ‚îÄ‚îÄ MOBILE DRAWER ‚îÄ‚îÄ
function openDrawer(){
  el('filter-drawer').classList.add('open');
  el('backdrop').classList.add('open');
  document.body.style.overflow='hidden';
}
function closeDrawer(){
  el('filter-drawer').classList.remove('open');
  el('backdrop').classList.remove('open');
  document.body.style.overflow='';
}

// ‚îÄ‚îÄ MOBILE MENU ‚îÄ‚îÄ
function toggleMenu(){
  const h=el('hamburger'),m=el('mobile-menu');
  if(h)h.classList.toggle('open');
  if(m)m.classList.toggle('open');
  document.body.style.overflow=(m&&m.classList.contains('open'))?'hidden':'';
}

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ
document.addEventListener('DO